# 移动端配置化表单尝试

## 背景

2019.05.07 通知新项目 《古井数字化营销-移动业务》 项目，该项目的前期需求评审发现在 APP 端的表单比较多，而且有很多联动需求。基于这样一个业务场景，故希望能够有一个 “配置化” 表单组件，一方面减少其他同事的开发难度，另一方面也能提高开发效率，同时还能促进公共组件的编写，可谓一举多得。  

## 调研

首先面向 GitHub 编程，尝试找到一些封装比较成熟的组件。结果，emmm....封装比较好的都是基于 PC 端场景的，而且使用 Vue 框架的流行度都差点。  

既然成熟框架有点困难，咱就绕道而行，看看这些封装思想，然后自己做一个简单版的先用着。  

然后又是一顿操作猛如虎，终于找到一个个人认为比较合适的指导文章：[再也不想写表单了](https://zhuanlan.zhihu.com/p/48241645)  

对于这篇文章做几个简单的总结：  

* 表单从数据的角度来看就是一堆 key 与 value 的映射；  
* 理想状态下，可以用一组定义良好的 “键值对” 结构来定义一个表单；  
* 对于联动需求，可以定义一个渲染方法来控制当前组件的被动渲染与否；  
* 对于组件的 “动态props” 也可以定义一个方法来控制返回的值；  
* 对于特定值限制，则可用通过增加指定 “value” 属性的方法来进行赋值；  

## 实践

首先，得取一个名字， `DynamicForm` 就可以。  

然后，根据业务特点，这个组件还有一些别的要求：  
* 支持在指定位置插入 `slot` ，方便插入一些表单无关的信息。  
* 表单需要支持分组，并且可以传入分组描述，这一点可以用 `fieldset` ，或者用 `slot` 来假装实现。  
* 

然后，codeing....  
