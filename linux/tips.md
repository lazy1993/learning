# LINUX 学习

* `linux` 权限标识：第一位是文件类型，后面每三位一组，分别代表所有者、所属组和其他人的权限。
```bash
  -rw-r--r--  
    * - 文件类型（常用： - 文件 d 目录 | 软链接文件）
    * rw- u 所有者  
    * r-- g 所属组  
    * r-- o 其他人  
```  

* `linux` 文件权限有三种：r（读）、w（写）、x（执行）  

* 常用目录的作用  
  > / 根目录  
  > /bin 命令保存目录（普通用户就可以读取的命令）  
  > /boot 启动目录，启动相关文件  
  > /dev 设备文件保存目录  
  > /etc 配置文件保存目录  
  > /home 普通用户的家目录  
  > /lib 系统库保存目录  
  > /mnt 系统挂载目录（挂载光盘、U盘等）  
  > /media 挂载目录  
  > /root 超级用户的家目录  
  > /tmp 临时目录  
  > /sbin 命令保存目录（超级用户才可以使用的目录）  
  > /proc 不应该直接操作 保存的是内存的过载点 直接写入内存  
  > /sys 不应该直接操作 保存的是内存的过载点 直接写入内存  
  > /usr 系统软件资源目录  
  >> /usr/bin/ 系统命令（普通用户）  
  >> /usr/sbin/ 系统命令（超级用户）  
  > /var 系统相关文档内容  

## 文件处理命令  
* 查询目录中的内容：  
  > `ls` [选项] [文件或目录]  
  >> 选项：  
    -a 显示所有文件，包括隐藏文件  
    -l 显示详细信息（`ll` 和 `ls -l` 完全相同）  
    -d 查看目录属性  
    -h 人性化显示文件大小  
    -i 显示 `inode`  

* 建立目录：  
  > `mkdir` [选项] [目录名]  
  >> 选项：  
    -p 递归创建  

* 切换目录：  
  > `cd` [目录名]  
  >> 简化操作：  
    `cd ~` 进入当前用户的家目录  
    `cd` 进入当前用户的家目录  
    `cd -` 进入上次目录  
    `cd ..` 进入上一级目录  
    `cd .` 进入当前目录  

* 查询所在目录位置  
  > `pwd`  

* 删除目录  
  > `rmdir` [目录名]  
  >> 说明：只能删除空目录，很少用  

* 删除文件或目录：  
  > `rm` [选项] [文件或目录]  
  ***删除之前必须慎重，无法撤销，而且支持 `rm -rf /` 命令，能够将系统整个删除***  
  >> 选项：  
    -r （支持）删除目录  
    -f 强制删除  

* 复制命令：  
  > `cp` [选项] [原文件或目录] [目标目录]  
  >> 选项：  
    -r （支持）复制目录  
    -p 同时复制文件属性  
    -d （如果是链接文件）同时复制链接属性  
    -a 相当于 -pdr  

* 剪切或改名命令（同文件夹剪切就是改名）：  
  > `mv` [原文件或目录] [目标目录]  
  >> 选项：  
    -r （支持）复制目录  
    -p 同时复制文件属性  
    -d （如果是链接文件）同时复制链接属性  
    -a 相当于 -pdr  

* 链接命令：  
  > `ln` [选项] [原文件] [目标文件]  
  >> 选项：  
    -s 创建软链接  
        硬链接特征：
          1、拥有相同的i节点和存储block块，可以看作是同一个文件  
          2、可通过i节点识别  
          3、不能跨分区  
          4、不能针对目录使用  
        软链接特征：
          1、类似 `Windows` 快捷方式  
          2、软链接拥有自己的 I 节点和 Block 块，但是数据块中只保存原文件的文件名和 I 节点号，并没有实际的文件数据  
          3、软链接的文件权限都为 `lrwxrwxrwx`  
          4、修改任意文件，另一个都改变  
          5、删除原文件，软链接不能使用  
          6、原文件一定要使用绝对路径  

## 文件搜索命令  

* `locate` [文件名]：在后台数据库中（并不是直接在系统中）按文件名搜索，搜索速度快  
  * `locate` 命令所搜索的后台数据库为 `/var/lib/mlocate`（并不是每台机都是这个，看自己实际情况），并不是实时更新，大概1天更新一次  
  * 直接执行 `updatedb` 可以更新该后台数据库  
  * 该后台数据库的配置文件为 `/etc/updatedb.conf`  
        PRUNE_BIND_MOUNTS = "yes"  
        # 配置生效  
        PRUNEFS  
        # 搜索时，不搜索的文件系统  
        PRUNENAMES  
        # 搜索时，不搜索的文件类型  
        PRUNEPATHS  
        # 搜索时，不搜索的路径  

* `whereis` [选项] [命令名]：搜索命令的命令  
  > 搜索命令所在路径及帮助文档所在位置  
  >> 选项：  
    -b 只查找可执行文件  
    -m 只查找帮助文件  

* `which` [命令名]：搜索命令的命令  
  > 搜索命令所在路径及别名  

* `find` [搜索范围] [搜索条件]：最强大的搜索命令  
  * 避免大范围搜索，会非常耗费系统资源  
  * `find` 是在系统当中搜索完全符合条件的文件名（可以使用通配符，使用通配符时将文件名用引号包裹，避免通配符被识别错误）。  

      Linux中的通配符：  

        *  匹配任意内容  
        ?  匹配任意一个字符  
        [] 匹配任意一个中括号中的字符  

      搜索条件：  

        -name [文件名]  按文件名  
        -iname [文件名] 按文件名，且不区分大小写  
        -user [所有者]  按所有者  
        -nouser [所有者]查找没有所有者的文件  
        -mtime [时间]   修改文件内容时间，默认单位是天，但是也可以配置为分钟  
        # 例如：  
          +10 十天前修改
          -10 十天内修改
          10  十天前当天修改
        -atime [时间]   文件访问时间  
        -ctime [时间]   文件属性改变时间  
        -size [文件大小] 按文件大小  
        # 例如：  
          +25K 大于25KB的文件  
          -25K 小于25KB的文件  
          25K  等于25KB的文件  
        -inum [i节点] 查找指定i节点的文件  
        -a and 逻辑与，两个条件都满足  
        # 例如：  
          find /etc -size +20k -a -size -50k  
          # 查找 /etc 目录下，大于20KB并且小于50KB的文件  
        -o or 逻辑或，两个条件满足一个即可  
        # 例如：  
          find /etc -size -20k -o -size +50k  
          # 查找 /etc 目录下，小于20KB或者大于50KB的文件  
        -exec [命令] {} \; 对搜索结果执行操作  
        # 例如：  
          find /etc -size +20k -a -size -50k -exec ls -lh {} \;  
          # 查找 /etc 目录下，大于20KB并且小于50KB的文件，并显示详细信息  

* `grep` [选项] [字符串] [文件名] 搜索字符串命令  
  > 在文件当中匹配符合条件的字符串  
  >> 选项：  
    -i 忽略大小写  
    -v 排除指定字符串  

## 帮助命令 man  

* `man [命令]` 获取指定命令的帮助  

* `man` 的级别  
  * 1 ：查看命令的帮助  
  * 2 ：查看可被内核调用的函数的帮助  
  * 3 ：查看函数和函数库的帮助  
  * 4 ：查看特殊文件的帮助（主要是 `/dev` 目录下的文件）  
  * 5 ：查看配置文件的帮助  
  * 6 ：查看游戏的帮助  
  * 7 ：查看其他杂项的帮助  
  * 8 ：查看系统管理员可用命令的帮助  
  * 9 ：查看和内核相关文件的帮助  

* `man -f` 相当于 `whatis` 命令  

* `man -k` 相当于 `apropos` 命令  